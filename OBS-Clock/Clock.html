<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clock</title>
</head>
<body style="background-color:#00FF00;">
    <h1 id="Time" style="color:#FFFFFF; text-align:center; font-family:Comic Sans MS, Arial;">Time</h1>

    <script>
        // 変数
        let am_pm = "";
        let Dates = new Date();
        let Hour = 0;
        let Min = 0;
        let Sec = 0;

        // 時間更新処理
        async function ClockUpdate(){
            while (true){
                // データ格納
                Dates = new Date;
                Hour = Dates.getHours();
                Min = Dates.getMinutes();
                Sec = Dates.getSeconds();

                // AM/PM処理
                if (Hour < 12){
                    am_pm = "AM";
                }
                else {
                    am_pm = "PM";
                    Hour = Hour - 12;
                }

                // 型変換
                Hour = String(Hour);
                Min = String(Min);
                Sec = String(Sec);

                // 見栄え処理
                if (Min.length == 1){
                    Min = "0" + Min;
                }
                if (Sec.length == 1){
                    Sec = "0" + Sec;
                }

                // 表示更新
                document.getElementById('Time').textContent = am_pm + Hour + ":" + Min + ":" + Sec;

                // 待機
                await Sleep(1000);
            }
        }

        // 待機処理
        function Sleep(Sleep_Time){
            return new Promise(function(resolve){
            setTimeout(resolve,Sleep_Time);
            });
        }

        // 実行
        ClockUpdate();

    </script>
</body>
</html>
